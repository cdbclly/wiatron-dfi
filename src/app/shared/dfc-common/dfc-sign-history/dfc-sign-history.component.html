<div class="dfc-line" *ngIf='dfcSignHitoryParam.approveFlag'></div>
<div class="dfc-sign" *ngIf='dfcSignHitoryParam.approveFlag'>
  <div>
    <app-dfc-query-input [queryStyle]="comment.style" [(queryValue)]="comment.value"></app-dfc-query-input>
  </div>
  <div class="dfc-btn-center">
    <button nz-button nzType="primary" *ngIf='dfcSignHitoryParam.btnApproveFlag'
      (click)="approve(true)">Approve</button>
    <button nz-button nzType="primary" *ngIf='dfcSignHitoryParam.btnRejectFlag' (click)="approve(false)">Reject</button>
  </div>
  <div class="dfc-btn-right">
    <button nz-button [nzType]="'primary'" *ngIf='dfcSignHitoryParam.btnAddSignFlag'
      (click)="addSignClick()">{{ 'military-order.dfc-invited' | translate }}<i nz-icon type="plus"></i></button>
  </div>
</div>
<div class="dfc-line"></div>
<div class="dfc-approve">
  <div></div>
  <div>
    <span>Approve History</span>
  </div>
  <div>
    <button nz-button [nzType]="'primary'" *ngIf='dfcSignHitoryParam.btnDownloadFlag' title="Download" nzShape="circle"
      (click)="download()">
      <i class="anticon anticon-download"></i>
    </button>
  </div>
</div>
<div class="dfc-approve-table">
  <nz-table #dfcRewardSignTable nzBordered nzShowQuickJumper [nzData]="dfcSignHitoryParam.dataSet" [nzScroll]="nzScroll"
    [nzWidthConfig]="nzWidthConfig" [nzHideOnSinglePage]='true' [nzPageSize]="9999">
    <thead>
      <tr>
        <th>Form No.</th>
        <th>Site</th>
        <th>Department</th>
        <th>Role</th>
        <th>Approved By</th>
        <th>Approvel Date</th>
        <th>Approvel Status</th>
        <th>Comment</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let data of dfcRewardSignTable.data; let i=index;">
        <td *ngIf='i === 0' [rowSpan]="dfcRewardSignTable.data.length">{{data.formNo}}</td>
        <td>{{data.site}}</td>
        <td>{{data.dept}}</td>
        <td>{{data.role}}</td>
        <td>{{data.user}}</td>
        <td>{{data.date}}</td>
        <td>{{data.approve}}</td>
        <td>{{data.comment}}</td>
      </tr>
    </tbody>
  </nz-table>
</div>

<!-- 邀簽時, 出現的彈框 -->
<nz-modal nzWrapClassName="vertical-center-modal" [nzWidth]="350" [(nzVisible)]="addSignParam.popVisible"
  [nzTitle]="'military-order.add-member' | translate" nzMaskClosable="false" (nzOnCancel)="addSignCancel()"
  [nzContent]="modalAddMemberContent" [nzFooter]="modalAddMemberFooter">
  <div class="dfc-proMember" #modalAddMemberContent>
    <app-dfc-query-input [queryStyle]="addSignParam.select.style" [(queryValue)]="addSignParam.select.value"
      [querySelect]="addSignParam.select.list" (searchSelectChange)="addSignMemberSearch($event)"></app-dfc-query-input>
  </div>
  <ng-template #modalAddMemberFooter>
    <button nz-button nzType="primary" *ngIf='dfcSignHitoryParam.btnBeforeAddSignFlag'
      (click)="addSign('before')">{{ 'military-order.dfc-front-invite' | translate }}</button>
    <button nz-button nzType="primary" *ngIf='dfcSignHitoryParam.btnAfterAddSignFlag'
      (click)="addSign('after')">{{ 'military-order.dfc-rear-invite' | translate }}</button>
    <button nz-button nzType="default" (click)="addSignCancel()">Cancel</button>
  </ng-template>
</nz-modal>

<div id="scatter-chart" echarts [options]="scatter_chart" class="scatter-chart" (chartClick)="show_boxs($event)"></div>
<div class="suggest">
    輔助建议决策---系統開發中
</div>
<nz-modal [(nzVisible)]="isVisible" nzTitle="" nzWidth="80%" (nzOnCancel)="handleCancel()" [nzClosable]="cancelOK" [nzFooter]="footer" (nzOnOk)="handleOk()">
  <button nz-button nzType="primary" style="border-radius: 6px;margin-left: 95%;height: 25px;font-size: 12px; margin-bottom: 10px;" (click)="downloadTotal(detailTable_test, '测试时间 total')">下载</button>
  <div>
        <table cellspacing="0" cellpadding="0">
          <thead>
            <th>治具編號</th>
            <!-- <th>測試值</th> -->
            <th>測試總時間/s</th>
            <th>測試數量</th>
          </thead>
          <tr *ngFor="let item of detailTable_test; let i = index">
            <td>{{item['fix']}}</td>
            <!-- <td>{{item['long']}}</td> -->
            <td>{{item['time']}}</td>
            <td (click)="showSubDetail(item['key'])" class="test-num">{{item['num']}}</td>
          </tr>
        </table>
      </div>
</nz-modal>

<nz-modal [(nzVisible)]="isVisible_1" nzTitle="" [nzStyle]="{ top: '30%' }" nzWidth="65%" (nzOnCancel)="handleCancel_1()" [nzClosable]="cancelOK_1" [nzFooter]="footer_1" (nzOnOk)="handleOk_1()">
<button nz-button nzType="primary" style="border-radius: 6px;margin-left: 95%;height: 25px;font-size: 12px; margin-bottom: 10px;" (click)="downloadDetail(detailTable_sub, '测试时间 detail')">下载</button>
<div class="box-table">
        <table cellspacing="0" cellpadding="0">
          <thead>
            <th>機種</th>
            <th>線別</th>
            <th>站別</th>
            <th>治具編號</th>
            <th>序列號</th>
            <!-- <th>測試時間</th> -->
            <th>開始測試時間</th>
            <th>結束測試時間</th>
            <th>測試總時間/s</th>
            <!-- <th>測試值</th> -->
            <th>上限</th>
            <th>中心值</th>
            <th>下限</th>
          </thead>
          <tr *ngFor="let item of detailTable_sub; let i = index">
            <td>{{item['model']}}</td>
            <td>{{item['line']}}</td>
            <td>{{item['station']}}</td>
            <td>{{item['fix']}}</td>
            <td>{{item['unitNum']}}</td>
            <!-- <td>{{item['test_time'] | date: 'yyyy-MM-dd hh:mm:ss'}}</td> -->
            <td>{{item['startdate'] | date: 'yyyy-MM-dd HH:mm:ss'}}</td>
            <td>{{item['stopdate'] | date: 'yyyy-MM-dd HH:mm:ss'}}</td>
            <td>{{item['testcycletime']}}</td>
            <!-- <td>{{item['test_long']}}</td> -->
            <td>{{item['upper']}}</td>
            <td>{{item['mean']}}</td>
            <td>{{item['lower']}}</td>
          </tr>
        </table>
      </div>
</nz-modal>
